<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Furniture Catalog</title>
</head>
<body>
    <%- include('../partials/_navbar.ejs') %>
    <h1> Furniture Catalog </h1>
    <h3>Discover high-quality, curated furniture pieces and save your selections to moodboards for easy planning and visualization</h3>
   <% furnitures.forEach((furniture)=> { %>
        <h4><%=furniture.name %></h4>
                 <% if (furniture.image) { %>
      <img src="<%= furniture.image %>" style="max-width:200px;">
    <% } %>4
    <h4><%= furniture.price %> BHD</h4>
     <button type="submit"><a href="/furnitures/<%= furniture._id %>">View Details</a></button>
     <form action="/moodboards/<%= userBoards[0]?._id %>/add" method="POST">
      <!-- better: render a dropdown of user's boards -->
      <select name="boardId">
        <% userBoards.forEach(b => { %>
          <option value="<%= b._id %>"><%= b.title %></option>
        <% }) %>
      </select>
      <input type="hidden" name="furnitureId" value="<%= furniture._id %>">
      <button type="submit">Add to Board</button>
    </form>
  <% }) %>

</body>
</html>